<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <title>EVTrip Planner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        #map { height: 500px; }
    </style>
</head>

<body id="root" class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition">

<header class="bg-white dark:bg-gray-800 shadow p-6 flex justify-between items-center">
    <h1 class="text-3xl font-bold text-blue-600 flex items-center gap-2">
        <i data-lucide="zap"></i>
        EVTrip Planner
    </h1>

    <button id="themeToggle"
        class="px-4 py-2 border rounded-lg dark:border-gray-600">
        Mode clair / sombre
    </button>
</header>

<main class="p-8 grid grid-cols-1 lg:grid-cols-3 gap-8">

<section class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow lg:col-span-1">
    <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
        <i data-lucide="route"></i>
        Paramètres du trajet
    </h2>

    <form id="tripForm" class="space-y-4">
        <input id="from" placeholder="Ville ou adresse de départ"
            class="w-full p-3 rounded border dark:bg-gray-700" />

        <input id="to" placeholder="Ville ou adresse d’arrivée"
            class="w-full p-3 rounded border dark:bg-gray-700" />

        <select id="vehicle"
            class="w-full p-3 rounded border dark:bg-gray-700"></select>

        <select id="routeMode"
            class="w-full p-3 rounded border dark:bg-gray-700">
            <option value="fastest">Plus rapide</option>
            <option value="eco">Plus économique</option>
            <option value="safe">Plus sécurisé</option>
        </select>

        <button type="submit"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl font-semibold">
            Calculer le trajet
        </button>
    </form>

    <div id="vehicleDetails" class="hidden mt-6">
        <img id="vehImage" class="rounded-xl mb-3" />
        <p id="vehName" class="font-bold"></p>
        <p id="vehVersion" class="text-sm opacity-70"></p>
        <ul id="vehSpecs" class="text-sm mt-2"></ul>
    </div>

    <div id="loader" class="hidden mt-4 text-sm">
        Calcul en cours…
    </div>
</section>

<section class="lg:col-span-2 bg-white dark:bg-gray-800 p-4 rounded-2xl shadow">
    <h2 class="text-xl font-semibold mb-3 flex items-center gap-2">
        <i data-lucide="map"></i>
        Carte du trajet
    </h2>
    <div id="map" class="rounded-xl"></div>
</section>

</main>

<script src="/static/app.js"></script>
<script>lucide.createIcons();</script>
</body>
</html>
